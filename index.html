<!DOCTYPE HTML><html lang="en">    <head>        <meta charset="UTF-8">        <title></title>        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">        <meta name="description" content="{% block description %}{% endblock %}">        <meta name="viewport" content="width=device-width, initial-scale=1">        <link rel="stylesheet" href="book.css">        <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>        <!-- Font Awesome -->        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">        <link rel="stylesheet" href="highlight.css">        <link rel="stylesheet" href="tomorrow-night.css">        <!-- MathJax -->        <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>        <!-- Fetch JQuery from CDN but have a local fallback -->        <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>        <script>            if (typeof jQuery == 'undefined') {                document.write(unescape("%3Cscript src='jquery.js'%3E%3C/script%3E"));            }        </script>    </head>    <body>        <!-- Set the theme before any content is loaded, prevents flash -->        <script type="text/javascript">            var theme = localStorage.getItem('theme');            if (theme == null) { theme = 'light'; }            $('body').removeClass().addClass(theme);        </script>        <!-- Hide / unhide sidebar before it is displayed -->        <script type="text/javascript">            var sidebar = localStorage.getItem('sidebar');            if (sidebar === "hidden") { $("html").addClass("sidebar-hidden") }            else if (sidebar === "visible") { $("html").addClass("sidebar-visible") }        </script>        <div id="sidebar" class="sidebar">            <ul class="chapter"><li class="affix"><a href="preface.html" class="active">Preface</a></li><li><a href="background.html"><strong>1.</strong> Background</a></li><li><ul class="section"><li><a href="what-does-an-os-do.html"><strong>1.1.</strong> What does an OS do?</a></li><li><a href="kernel-vs-os.html"><strong>1.2.</strong> Kernel vs. OS</a></li></ul></li><li><a href="boot-to-kmain.html"><strong>2.</strong> Boot -> kmain()</a></li><li><a href="hello-world.html"><strong>3.</strong> Hello, world!</a></li><li><a href="keyboard-input.html"><strong>4.</strong> Keyboard input</a></li></ul>        </div>        <div id="page-wrapper" class="page-wrapper">            <div class="page">                <div id="menu-bar" class="menu-bar">                    <div class="left-buttons">                        <i id="sidebar-toggle" class="fa fa-bars"></i>                        <i id="theme-toggle" class="fa fa-paint-brush"></i>                    </div>                    <h1 class="menu-title"></h1>                    <div class="right-buttons">                        <i id="print-button" class="fa fa-print" title="Print this book"></i>                    </div>                </div>                <div id="content" class="content">                    <h1>Preface</h1><p>This book describes the intermezzOS project. intermezzOS is a hobby operatingsystem, specifically targeted at showing beginners how to get into operatingsystems development. Rather than describe some sort of final OS, it insteadproceeds in a tutorial-like fashion, allowing you to implement intermezzOSyourself, alongside the book.</p><p>The book assumes that you have programmed in some language before, but not anyparticular one. In fact, people who have not done low-level programming beforeare a specific target of this book; I’ll be explaining a lot of things thatother resources will just assume that you know.</p><p>intermezzOS is implemented in <a href="https://www.rust-lang.org/">Rust</a>, and someassembly code. We’ll try to explain Rust along the way, but may refer you toits documentation when things get tricky. This book isn’t <em>really</em> aboutlearning Rust, but you might accidentally along the way.</p><p>You can find all of this stuff <a href="https://github.com/intermezzOS/">on GitHub</a>.This book is in the <code>book</code> repository, the kernel is in <code>kernel</code>, and thewebsite is there, too. Feel free to open issues on the <a href="https://github.com/intermezzOS/rfcs">RFCsrepo</a> if you want to discuss thingsin a general sense, and send bug reports and PRs to the appropriate reposif you’d like to help with a particular component.</p><h2>The Story</h2><p>A long time ago, in college, my friends and I were working on a hobby operatingsystem, <a href="http://xomb.org">XOmB</a>. It was... tough. Frankly, while I learned alot, I was a pretty minor contributor. I got frustrated too easily. One day, Ifound Ruby, and I was pretty much done with low-level programming. I had doneit most of my life, and I was bored. Bored, and sick of dealing with coredumps.</p><p>Those details aren’t that important. What is important is that over the years,I’ve always wanted to get back into this stuff. But the problem is this: thereare a lot of people who do hobby operating system work, but... I don’t liketheir attitudes.</p><p>You see, a lot of people see low-level programming as some kind of superior,only-for-the-smartest kind of thing. They have a puritanical world-view: Isuffered to learn this, so you too must suffer, to build character. I thinkthat’s short sighted. Low level programming <em>is</em> difficult to get into, butthat says more about the teachers’ faults than the students’.</p><p>Anyway, as my professional life has moved back towards the low level, I’ve beenthinking about this topic a lot again. That’s when I found an awesome link:<a href="http://os.phil-opp.com/multiboot-kernel.html">Writing an OS in Rust by Philipp Oppermann</a>. I cannot speak enoughabout how awesome Phil’s tutorial is; it single-handedly inspired me to getback into operating systems.</p><p>The big difference with Phil’s tutorial is that it doesn’t treat you as beingstupid for not knowing ‘the basics’. It doesn’t say “spend hours debugging thisthing, because I did.” It doesn’t insult you for being new. It just explainsthe basics of a kernel.</p><p>It’s amazing how much a little bit of a framing can completely change the wayyou see something. When the examples I found were all about how you have to bean amazing rockstar ninja and we won’t give you all the code because you suckif you can’t figure it out, I hated this stuff. When it was kind,understanding, and helpful, I couldn’t get enough.</p><p>Once I got to a certain part in Phil’s tutorial, I started implementing stuffmyself. A lot of the initial code here is going to be similar to Phil’s.But I’m going to write about it anyway. There’s a good reason for that:</p><blockquote><p>Writing is nature’s way of showing us how sloppy our thinking is.</p><ul><li>Leslie Lamport</li></ul></blockquote><p>By re-explaining things in my own words, I hope to understand it even better.This is just a perpetual theme with me: I like teaching because it helps melearn. I like writing because it helps me understand.</p><p>The first section of the book is going to be clear about where we’re followingPhil, and where we break off and go into our own little world. After the start,things will end up diverging.</p><p>Furthermore, I will not commit to any kind of schedule for this project. It’sgoing to be in my spare time, and I’m learning a lot of this as I go, too.</p><h2>The Name</h2><blockquote><p>The nomad has a territory; he follows customary paths; he goes from one pointto another; he is not ignorant of points (water points, dwelling points,assembly points, etc.). But the question is what in nomad life is a principleand what is only a consequence. To begin with, although the points determinepaths, they are strictly subordinated to the paths they determine, thereverse happens with the sedentary. The water point is reached only in orderto be left behind; every point is a relay and exists only as a relay. A pathis always between two points, but the in-between has taken on all theconsistency and enjoys both an autonomy and a direction of its own. The lifeof the nomad is the intermezzo.</p><p>Deleuze and Guattari, “A Thousand Plateaus”, p380</p></blockquote><p>If you’re not into particular kinds of philosophy, this quote won’t mean a lot.Let’s look at the dictionary definition:</p><blockquote><p>An intermezzo, in the most general sense, is a composition which fits betweenother musical or dramatic entities, such as acts of a play or movements of alarger musical work.</p><p><a href="https://en.wikipedia.org/wiki/Intermezzo">https://en.wikipedia.org/wiki/Intermezzo</a></p></blockquote><p>I want this project to be about learning. Learning is often referred to as ajourney. You start off in ignorance, and end in knowledge. In other words,‘learning’ is that part in the middle, the in-between state.</p><p>The tricky thing about learning is, you never stop learning. Once you learnsomething, there’s something new to learn, and you’re on a journey again.</p><p>If you want to learn a lot, then you’ll find yourself perpetually in themiddle.</p><h2>Principles</h2><p>Here are the guiding principles of intermezzOS:</p><ul><li>We’re all actual people. Please treat each other as such.</li><li>We’re all here to learn. Let’s help each other learn, rather than being somekind of vanguard of knowledge.</li><li>The only thing that matters about your language background is the amount youmay have to learn.</li><li>Everything must be documented, or it’s not done.</li></ul><p>And of course, everything related to this project is under the <a href="http://intermezzos.github.io/code-of-conduct.html">Code ofConduct</a>.</p>                </div>                <!-- Mobile navigation buttons -->                                                    <a href="background.html" class="mobile-nav-chapters next">                        <i class="fa fa-angle-right"></i>                    </a>                            </div>                                        <a href="background.html" class="nav-chapters next">                    <i class="fa fa-angle-right"></i>                </a>                    </div>        <!-- Local fallback for Font Awesome -->        <script>            if ($(".fa").css("font-family") !== "FontAwesome") {                $('<link rel="stylesheet" type="text/css" href="_FontAwesome/css/font-awesome.css">').prependTo('head');            }        </script>        <script src="highlight.js"></script>        <script src="book.js"></script>    </body></html>